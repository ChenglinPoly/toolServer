# Tool Server 前端管理界面

一个简洁的前端界面，用于管理Tool Server的任务和人机交互。

## 功能特性

### 核心功能
- **任务列表**：查看所有创建的任务
- **文件上传**：直接上传文件到任务的upload文件夹
- **日志监控**：实时查看任务执行日志
- **人机交互管理**：查看和完成人类任务

### 技术特点
- **低耦合设计**：可独立部署，通过API与Tool Server通信
- **静默日志**：前端日志查看不会在服务器端产生冗余日志
- **自动刷新**：人类任务和日志自动更新
- **响应式UI**：现代化的用户界面设计

## 快速开始

### 1. 启动Tool Server
```bash
python -m core.server --port 8001 --workspace ./workspace
```

### 2. 打开前端界面
有两种方式启动前端：

**方式一：直接在浏览器中打开**
```bash
# 直接双击打开 frontend/index.html
open frontend/index.html
```

**方式二：通过HTTP服务器**
```bash
cd frontend
python3 -m http.server 8080
# 然后访问 http://localhost:8080
```

### 3. 配置API地址
- 默认连接到 `http://localhost:8001`
- 可通过界面右上角的"设置API"按钮修改
- 也可通过URL参数：`?api_url=http://your-server:8001`

## 使用指南

### 任务管理
1. 左侧显示所有可用任务
2. 点击任务名称选择当前任务
3. 选择任务后可查看日志和人类任务

### 文件上传
1. 选择任务后，点击"上传文件到upload文件夹"按钮
2. 选择要上传的文件（支持多文件选择）
3. 文件将自动上传到任务的upload目录

### 人机交互
1. 查看当前任务的所有人类任务
2. 未完成的任务显示在顶部
3. 点击"完成任务"按钮标记任务为完成状态

### 日志监控
- 自动显示任务相关的执行日志
- 支持错误、警告、成功等不同级别的日志高亮
- 每10秒自动刷新日志内容

## 配置说明

### API配置
可通过修改 `config.js` 文件来调整默认设置：

```javascript
window.TOOL_SERVER_CONFIG = {
    DEFAULT_API_URL: 'http://localhost:8001',
    REFRESH_INTERVALS: {
        HUMAN_TASKS: 5000,    // 人类任务刷新间隔
        LOGS: 10000,          // 日志刷新间隔
    },
    LOG_CONFIG: {
        MAX_LINES: 100,       // 最多显示的日志行数
    }
};
```

### 部署选项
1. **本地部署**：直接打开HTML文件
2. **HTTP服务器**：使用Python、Node.js等启动静态服务器
3. **CDN部署**：上传到任意静态文件托管服务

## 注意事项

- 前端需要与Tool Server在同一网络环境中或配置正确的跨域访问
- 文件上传大小限制取决于Tool Server的配置
- 日志查看采用静默模式，不会在服务器端产生额外日志记录

## 常见问题

**Q: 无法连接到Tool Server？**
A: 检查Tool Server是否运行，并确认API地址配置正确

**Q: 上传的文件变成了文件夹？**
A: 这是旧版本的问题，最新版本已修复，文件会正确上传到upload目录

**Q: 日志不显示或显示不完整？**
A: 确认任务已执行过工具操作，日志文件存在于logs目录中

## 更新日志

### v2.0
- 移除复杂的文件树功能，简化为文件上传
- 添加静默日志功能，减少服务器日志噪音
- 优化UI设计，提升用户体验
- 增强配置灵活性

### v1.0
- 基础任务管理功能
- 文件树浏览和操作
- 人机交互任务管理
- 日志实时监控 